## 물리적 트랜잭션과 논리적 트랜잭션!
- 물리적 트랜잭션: 실제 데이터베이스에서 적용되는 트랜잭션으로 커넥션을 통해 커밋/롤백하는 단위
- 논리 트랜잭션: 스프링이 트랜잭션 매니저를 통해 트랜잭션을 처리하는 단위

## 스프링의 트랜잭션 7가지 전파 속성
### REQUIRED: 트랜잭션이 필요하다!
<img width="465" alt="스크린샷 2024-02-15 오후 4 02 12" src="https://gist.github.com/assets/97938489/7140419a-9cfe-480f-8bb7-a8db3782cea4">

- 외부 트랜잭션이 존재하면 그 트랜잭션에 참여
- 외부 트랜잭션이 없으면 새로운 트랜잭션을 생성
- 커밋은 내부 1회, 외부 1회 총 2회 실행
- 내부 트랜잭션은 즉시 커밋되지는 않고, 외부 트랜잭션이 최종적으로 커밋될 때 실제로 커밋
- 논리 트랜잭션들 중 1개라도 롤백되면 롤백

### REQUIRES_NEW: 새로운 트랜잭션이 필요하다!
<img width="461" alt="스크린샷 2024-02-15 오후 4 02 21" src="https://gist.github.com/assets/97938489/4843cc0a-8587-426f-bfa8-f479b8c3ecb5">
- 외부 트랜잭션과 내부 트랜잭션이 완전히 분리
- 트랜잭션별로 커밋과 롤백 수행
- 2개의 커넥션 사용
- 내부 트랜잭션이 처리 중일때는 외부 트랜잭션 대기
- 커넥션 고갈 위험

### SUPPORTS: 트랜잭션이 있다면 지원하겠다!
- 외부 트랜잭션이 존재하면 그 트랜잭션에 참여
- 외부 트랜잭션이 존재하지 않다면 트랜잭션 없이 실행

### NOT_SUPPORTED: 트랜잭션 지원하지 않겠다!
- 외부 트랜잭션이 없으면 트랜잭션 없이 진행
- 외부 트랜잭션이 있으면 트랜잭션 보류하고 트랜잭션 없이 진행

### MANDATORY: 트랜잭션이 의무적으로 필요하다!
- 외부 트랜잭션이 존재하면 그 트랜잭션에 참여
- 외부 트랜잭션이 없으면 IllegalTransactionStateException 예외 발생

### NEVER: 트랜잭션 절대 지원하지 않겠다!
- 외부 트랜잭션이 존재하면 트랜잭션 없이 진행
- 외부 트랜잭셔니 있으면 IllegalTransactionStateException 예외 발생

### Nested: 중첩 트랜잭션을 생성하겠다!
- 외부 트랜잭션이 없으면 새로운 트랜잭션 생성
- 외부 트랜잭션이 존재하면 충첩 트랜잭션 생성
- REQUIRES_NEW 와의 차이: 외부 트랜잭션이 롤백되면 내부 트랜잭션도 롤백 (내부는 외부에게 영향 X)
